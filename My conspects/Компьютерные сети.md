# Conspect
## Сеть
Совокупность устройств и систем, позволяющая осуществлять обмен данными.

Состоит из:
1. Оконечных узлов (PC, телефоны, серверы).
2. Промежуточных устройств (коммутаторы, маршрутизаторы, Wi-Fi).
3. Сетевых сред.

Пример структуры сети:
`PC -> switch (коммутатор) -> router (маршрутизатор) -> cloud (интернет)`

### Примеры сетевых сервисов
1. Приложения
2. Сетевые ресурсы
3. Хранилище
4. Резервные копии (бэкапы)
5. Телефония VoIP

### Сетевые приложения
1. **Загрузчики** — используют протоколы FTP (порт 21, основан на TCP) и TFTP (упрощённый FTP) для копирования и скачивания файлов. Вмешательство человека не требуется.
2. **Интерактивные приложения** — мессенджеры и другие приложения для совместной работы нескольких людей.
3. **Real-time системы** — IP-телефония и видеоконференции, где допустимая задержка до 300 мс.

## Топология сетей
1. **Физическая топология** — фактическое расположение узлов и соединений.
2. **Логическая топология** — логическое расположение и маршруты передачи данных.

### Основные типы топологий
1. **Шина (Bus)** — устройства подключены к общему кабелю. Проблема: при поломке кабеля вся сеть выходит из строя.
2. **Кольцевая (Ring)** — устройства соединены по кольцу, передача данных происходит по одному кольцу, а получение — по другому.
3. **Звезда (Star)** — устройства подключаются к центральному узлу (обычно коммутатору); используется в локальных сетях.
4. **Полносвязная (Full-Mesh)** — каждое устройство подключено к каждому.
5. **Неполносвязная (Partial Mesh)** — некоторые устройства соединены напрямую. Подходит для маршрутизаторов.
6. **Гибридная (Hybrid)** — комбинация нескольких типов топологий.

## Сетевые модели

### Модель OSI
Разработана Международной организацией по стандартизации (ISO) как стандартная сетевая модель. На практике используется редко, но важно понимать её принципы. Состоит из 7 уровней:

1. **Физический уровень** — определяет метод передачи данных и сетевую среду.
2. **Канальный уровень** — решает задачи адресации на уровне сети.
3. **Сетевой уровень** — маршрутизация, определение оптимального пути передачи данных (например, IP).
4. **Транспортный уровень** — отвечает за передачу данных, использует протоколы TCP и UDP.
5. **Сеансовый уровень** — управление сеансами связи между хостами.
6. **Уровень представления** — структурирует данные для передачи на прикладной уровень.
7. **Прикладной уровень** — браузеры, HTTP, FTP и другие сетевые приложения.

### Инкапсуляция и деинкапсуляция
- **Инкапсуляция** — процесс передачи данных сверху вниз (с прикладного уровня до физического).
- **Деинкапсуляция** — процесс обработки данных снизу вверх (с физического уровня до прикладного).

Обозначения на каждом уровне:
1. **Биты** — физический уровень
2. **Кадры** — канальный уровень
3. **Пакеты** — сетевой уровень
4. **Сегменты, датаграммы** — транспортный уровень
5-7. **PDU (Protocol Data Units)** — протокол передачи данных на верхних уровнях

### Модель TCP/IP
Сетевая модель, состоящая из 4 уровней:
1. **Уровень сетевого доступа**
2. **Интернет-уровень**
3. **Транспортный уровень**
4. **Прикладной уровень**

## IP-адресация
IP-адреса используются на сетевом уровне. Администрированием адресного пространства занимается **IANA (Internet Assigned Numbers Authority)**.

### Различие между internet и Internet
- **internet** — совокупность подключенных сетей.
- **Internet** — глобальная сеть.

### Классы IP-адресов
| Класс | Первые биты | Начальный адрес | Конечный адрес  | Формат            |
| ----- | ----------- | --------------- | --------------- | ------------------ |
| A     | 0           | 0.0.0.0         | 127.255.255.255 | net.host.host.host |
| B     | 10          | 128.0.0.0       | 191.255.255.255 | net.net.host.host  |
| C     | 110         | 192.0.0.0       | 223.255.255.255 | net.net.net.host   |
| D     | 1110        | 224.0.0.0       | 239.255.255.255 | рассылка           |
| E     | 1111        | 240.0.0.0       | 255.255.255.255 | зарезервирован     |

### Структура IP-адреса
Общее количество битов в IP-адресе — 32. Формула для определения количества битов:
`N + S + H = 32`, где:
- **N** — биты сети,
- **S** — биты подсети,
- **H** — биты для хостов.

### Пример расчета адресного пространства
- Адрес: `172.16.0.0` (класс B), требуется 120 подсетей и 180 хостов на каждую.
  - Изначально N = 16 (класс B).
  - Для 120 подсетей нужно 7 бит (так как 2^7 = 128).
  - Следовательно, S = 7.
  - H = 32 - (N + S) = 32 - (16 + 7) = 9.
  - Маска подсети: 255.255.254.0.


## Лекция 5
## IPv4
- IPv4 — протокол интернета, поддерживающий до 2^32 уникальных IP-адресов.

## NAT (Network Address Translation)
- Система трансляции сетевых адресов, которая преобразует приватные IP-адреса локальной сети в общедоступные публичные IP-адреса, скрывая внутренние адреса от внешней сети.
- **NAT Pool** — пул публичных IP-адресов, используемый для трансляции.

NAT поднимают на маршрутизаторе.

### Типы адресов в NAT
- **Inside Local Address** — приватный адрес внутри локальной сети.
- **Inside Global Address** — публичный IP-адрес, видимый для внешней сети, который отображает внутренний локальный адрес.
- **Outside Local Address** — адрес внешнего узла, представленный для внутренней сети.
- **Outside Global Address** — фактический публичный адрес внешнего узла.

- **Source** и **Destination** — адреса источника и назначения в процессе трансляции NAT.
- **Глобально маршрутизированный адрес** — адрес, который может маршрутизироваться в глобальной сети (интернете).

### Типы NAT
| Тип                       | Описание        |
| ------------------------- | --------------- |
| Static NAT                | 1 к 1           |
| Dynamic NAT               | многие ко многим |
| Port Address Translation  | многие к 1      |

### Преимущества NAT
1. Экономия IP-адресов — используется один внешний адрес для множества внутренних хостов.
2. Гибкость — NAT позволяет изменять внутреннюю схему адресации без влияния на внешнюю.
3. Безопасность — скрывает внутренние IP-адреса от внешней сети.

### Недостатки NAT
1. Проблемы с передачей real-time трафика (например, VoIP).
2. Потеря сквозной адресации, что затрудняет устранение неполадок при потере пакетов.
3. Требует дополнительной настройки для протокола UDP и его пакетов.
4. Туннелирование — сложность проверки целостности пакетов, так как NAT изменяет заголовки пакетов.

## DHCP (Dynamic Host Configuration Protocol)
Протокол динамической конфигурации хоста, который упрощает назначение IP-адресов в локальной сети.

### Способы распределения IP-адресов:
1. **Ручное распределение (Manual Allocation)** — администратор вручную назначает IP-адреса, передаваемые через DHCP.
2. **Автоматическое распределение (Automatic Allocation)** — IP-адрес назначается один раз и остается закрепленным за устройством.
3. **Динамическое распределение (Dynamic Allocation)** — IP-адрес арендуется на ограниченное время и может изменяться по истечении срока аренды.

### Процесс аренды IP-адреса:
1. **DHCP Discover** — отправка широковещательного запроса с MAC-адресом от клиента (по адресу 255.255.255.255) с IP 0.0.0.0.
2. **DHCP Offer** — сервер отвечает предложением IP-адреса.
3. **DHCP Request** — клиент запрашивает IP-адрес и продление аренды, выполняется проверка доступности IP-адреса через ICMP-запрос и создание ARP-записи.
4. **DHCP Ack** — сервер подтверждает предоставленный IP-адрес.

DHCP-сервер может быть настроен как на маршрутизаторах, так и на Windows и Linux.

## DNS (Domain Name System)
- Система доменных имен, сопоставляющая доменные имена с IP-адресами серверов.
- Кэширует записи других DNS-серверов для ускорения доступа.

### DNS-зоны
- Области ответственности на DNS-серверах, содержащие информацию о доменах и их IP-адресах.

## Cisco Packet Tracer
- Симулятор сети, разработанный для моделирования и изучения сетей Cisco.

# Questions
**Расширение по основным темам:**

### Топологии сетей
1. **Шина (Bus)**: Все устройства подключены к одному кабелю, через который передаются данные. Недостатки: ограниченная пропускная способность и невозможность работы всей сети при поломке кабеля.
2. **Кольцо (Ring)**: Устройства соединены в замкнутый круг, и данные проходят по одному направлению. Если одно устройство выходит из строя, это может повлиять на передачу данных.
3. **Звезда (Star)**: Все устройства подключаются к центральному узлу, что обеспечивает высокую скорость связи и легкость добавления новых устройств. Центральный узел (например, коммутатор) является точкой отказа.
4. **Полносвязная (Full-Mesh)**: Каждый узел соединен с каждым, что обеспечивает высокую надежность и минимальные задержки, но требует множества соединений.
5. **Неполносвязная (Partial Mesh)**: Некоторые узлы соединены напрямую, другие — через промежуточные устройства. Обеспечивает баланс между надежностью и сложностью.
6. **Гибридная (Hybrid)**: Комбинация нескольких топологий для создания более гибкой и устойчивой сети.

### Модель OSI
Модель OSI используется для изучения и проектирования сетей. Основные уровни:
- **Физический** — включает кабели и устройства, отвечает за передачу сигналов.
- **Канальный** — отвечает за передачу данных между соседними узлами.
- **Сетевой** — маршрутизация и выбор оптимального маршрута.
- **Транспортный** — передача данных с контролем ошибок (TCP/UDP).
- **Сеансовый** — установление, поддержание и завершение сеансов связи.
- **Представления** — преобразование данных (например, шифрование).
- **Прикладной** — поддержка сетевых приложений (HTTP, FTP).

### NAT (Network Address Translation)
NAT преобразует IP-адреса, что позволяет скрыть внутренние IP и экономить внешние адреса. Типы NAT:
- **Static NAT** — один внутренний IP переводится в один внешний.
- **Dynamic NAT** — множество внутренних IP могут использовать пул внешних адресов.
- **PAT (Port Address Translation)** — несколько внутренних IP используют один внешний IP с уникальными портами.

Преимущества: улучшение безопасности и экономия адресов. Недостатки: усложненная поддержка real-time приложений и потеря сквозной адресации.

### DNS (Domain Name System)
DNS переводит доменные имена в IP-адреса. Система распределена по зонам:
- **Зона авторитетности** — DNS-серверы содержат оригинальные записи для определённых доменов.
- **Рекурсивные запросы** — сервер запрашивает другие DNS, если у него нет нужного IP.

### DHCP (Dynamic Host Configuration Protocol)
Протокол автоматической конфигурации IP-адресов. Процесс получения IP:
1. **DHCP Discover** — клиент ищет сервер.
2. **DHCP Offer** — сервер предлагает IP.
3. **DHCP Request** — клиент запрашивает IP.
4. **DHCP Ack** — сервер подтверждает.

Методы распределения IP:
- **Ручное** — администратор назначает IP.
- **Автоматическое** — постоянное закрепление IP за устройством.
- **Динамическое** — IP выдается на ограниченное время.

### Таблица маршрутизации
Таблица, хранящая маршруты передачи данных в сети. В таблице указываются:
- **Сетевые адреса** — IP сети назначения.
- **Метрики** — стоимость маршрута.
- **Следующий переход (Next Hop)** — IP следующего узла.
- **Интерфейс** — выходной интерфейс для маршрута.

Таблица маршрутизации помогает выбрать оптимальный путь и направить данные по нужному маршруту.